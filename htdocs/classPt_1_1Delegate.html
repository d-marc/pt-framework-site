<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>Delegate&lt; R, ARGUMENTS &gt; Class Template Reference</title>
  <meta content="Pt Reference Manual" name="description">
  <meta content="The Pt Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body style="margin:0px;">
<div id="container">
<div id="top"> <!-- do not remove this div, it is closed by doxygen! -->
<div id="header">
    <table id="logo">
        <tr>
            <td>
                <a href="../index.html"><img src="platinum-logo.gif" border="0"/></a>
            </td>
            <td>
                <h3>The Power in your Hands</h3>
            </td>
        </tr>
    </table>
    <div class="search">
        <form action="http://search.freefind.com/find.html" method="get" accept-charset="utf-8" target="_self">
          <p style="margin: 0; padding-top:2px; padding-bottom:2px;"><b>Search Site:</b></p>
          <p style="margin: 0; padding:0;">
            <input type="hidden" name="si" value="43943317">
            <input type="hidden" name="pid" value="r">
            <input type="hidden" name="n" value="0">
            <input type="hidden" name="_charset_" value="">
            <input type="hidden" name="bcd" value="&#247;">
            <input style="background-color: #FFFFFF;
                          border: 1px solid #ffffff;
                          font-size: 12px;
                          width: 160px"
                   type="text" name="query" value="Search...">
          </p>
        </form>
    </div>
	<div class="header-menu">
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../index.html">About</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../features-modules.html">Features</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../docs.html">Documentation</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../downloads.html">Download</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../community.html">Community</a> </div>
	</div>
  </div>
<div class="header-submenu" style="padding-left: 146px;">  
    <div class="header-submenu-term"><img src="sub_left.png" width="4" height="20" /></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="../docs.html">Main</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="classes.html">Classes</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="namespaces.html">Namespaces</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="modules.html">Modules</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-term"><img src="sub_right.png" width="4" height="20" /></div>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePt.html">Pt</a></li><li class="navelem"><a class="el" href="classPt_1_1Delegate.html">Delegate</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#related">Related Functions</a>  </div>
  <div class="headertitle">
<div class="title">Delegate&lt; R, ARGUMENTS &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__sigslot.html">Signals and Delegates</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="include_2Pt_2Delegate_8h_source.html">Pt/Delegate.h</a>&gt;</code></p>

<p>Delegates an action to a slot.  
 <a href="classPt_1_1Delegate.html#details">More...</a></p>

<p>Inherits <a class="el" href="classPt_1_1Connectable.html">Connectable</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14bef0b4a284ace6906564aeee5a7efe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14bef0b4a284ace6906564aeee5a7efe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a14bef0b4a284ace6906564aeee5a7efe">Delegate</a> ()</td></tr>
<tr class="memdesc:a14bef0b4a284ace6906564aeee5a7efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor. <br/></td></tr>
<tr class="separator:a14bef0b4a284ace6906564aeee5a7efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afafeb333bbeb0b937703d05b8a9db257"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afafeb333bbeb0b937703d05b8a9db257"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#afafeb333bbeb0b937703d05b8a9db257">Delegate</a> (const <a class="el" href="classPt_1_1Delegate.html">Delegate</a> &amp;rhs)</td></tr>
<tr class="memdesc:afafeb333bbeb0b937703d05b8a9db257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deeply copies the other Delegate. <br/></td></tr>
<tr class="separator:afafeb333bbeb0b937703d05b8a9db257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684e67ec222d30b4fbf06f3e2e3e37ce"><td class="memItemLeft" align="right" valign="top">R&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a684e67ec222d30b4fbf06f3e2e3e37ce">call</a> (ARGUMENTS) const </td></tr>
<tr class="memdesc:a684e67ec222d30b4fbf06f3e2e3e37ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the slot connected to the Delegate.  <a href="#a684e67ec222d30b4fbf06f3e2e3e37ce">More...</a><br/></td></tr>
<tr class="separator:a684e67ec222d30b4fbf06f3e2e3e37ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a3dba49c206ee249eea39fb927f217"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42a3dba49c206ee249eea39fb927f217"></a>
<a class="el" href="classPt_1_1Connection.html">Connection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a42a3dba49c206ee249eea39fb927f217">connect</a> (const <a class="el" href="classPt_1_1BasicSlot.html">BasicSlot</a>&lt; R, ARGUMENTS &gt; &amp;slot)</td></tr>
<tr class="memdesc:a42a3dba49c206ee249eea39fb927f217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects this object to the given slot and returns that <a class="el" href="classPt_1_1Connection.html" title="Represents a connection between a Signal/Delegate and a slot. ">Connection</a>. <br/></td></tr>
<tr class="separator:a42a3dba49c206ee249eea39fb927f217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960705de531a20389fb29928d43258c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a960705de531a20389fb29928d43258c3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a960705de531a20389fb29928d43258c3">disconnect</a> ()</td></tr>
<tr class="memdesc:a960705de531a20389fb29928d43258c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects from current target. <br/></td></tr>
<tr class="separator:a960705de531a20389fb29928d43258c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81329b64f5d1e5cdc759cc17418e483"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af81329b64f5d1e5cdc759cc17418e483"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#af81329b64f5d1e5cdc759cc17418e483">disconnect</a> (const <a class="el" href="classPt_1_1BasicSlot.html">BasicSlot</a>&lt; R, ARGUMENTS &gt; &amp;slot)</td></tr>
<tr class="memdesc:af81329b64f5d1e5cdc759cc17418e483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects from the target. <br/></td></tr>
<tr class="separator:af81329b64f5d1e5cdc759cc17418e483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fa9ecbf16e46966ced9b70f94b9a71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a15fa9ecbf16e46966ced9b70f94b9a71">invoke</a> (ARGUMENTS) const </td></tr>
<tr class="memdesc:a15fa9ecbf16e46966ced9b70f94b9a71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke the slot connected to the Delegate.  <a href="#a15fa9ecbf16e46966ced9b70f94b9a71">More...</a><br/></td></tr>
<tr class="separator:a15fa9ecbf16e46966ced9b70f94b9a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180fa55a4bf36580963bed9e3e09c227"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a180fa55a4bf36580963bed9e3e09c227"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a180fa55a4bf36580963bed9e3e09c227">isConnected</a> () const </td></tr>
<tr class="memdesc:a180fa55a4bf36580963bed9e3e09c227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if connected to a target. <br/></td></tr>
<tr class="separator:a180fa55a4bf36580963bed9e3e09c227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae709c49f997eb3acd2ce98fcca5dd530"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae709c49f997eb3acd2ce98fcca5dd530"></a>
R&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#ae709c49f997eb3acd2ce98fcca5dd530">operator()</a> (ARGUMENTS) const </td></tr>
<tr class="memdesc:ae709c49f997eb3acd2ce98fcca5dd530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="classPt_1_1Delegate.html#a684e67ec222d30b4fbf06f3e2e3e37ce" title="Calls the slot connected to the Delegate. ">call()</a> <br/></td></tr>
<tr class="separator:ae709c49f997eb3acd2ce98fcca5dd530"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr class="memitem:a3c377f2e4b2d00cf5697a5ec603334be"><td class="memTemplParams" colspan="2"><a class="anchor" id="a3c377f2e4b2d00cf5697a5ec603334be"></a>
template&lt;typename R , typename ARGS &gt; </td></tr>
<tr class="memitem:a3c377f2e4b2d00cf5697a5ec603334be"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classPt_1_1Connection.html">Connection</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classPt_1_1Delegate.html#a3c377f2e4b2d00cf5697a5ec603334be">operator+=</a> (<a class="el" href="classPt_1_1Delegate.html">Delegate</a>&lt; R, ARGS &gt; &amp;delegate, const <a class="el" href="classPt_1_1BasicSlot.html">BasicSlot</a>&lt; R, ARGS &gt; &amp;slot)</td></tr>
<tr class="memdesc:a3c377f2e4b2d00cf5697a5ec603334be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect a Delegate to a slot. <br/></td></tr>
<tr class="separator:a3c377f2e4b2d00cf5697a5ec603334be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename R, typename ARGUMENTS&gt;<br/>
class Pt::Delegate&lt; R, ARGUMENTS &gt;</h3>

<p>The <a class="el" href="classPt_1_1Delegate.html" title="Delegates an action to a slot. ">Pt::Delegate</a> is an alternative to the <a class="el" href="classPt_1_1Signal.html" title="Multicast Signal to call multiple slots. ">Pt::Signal</a> and differs from it in two ways. Firstly, delegates forward the return value of the slot and secondly, delegates can only be connected to one slot at a time. The same types of slots can be used for signals and delegates. The template parameter list of the <a class="el" href="classPt_1_1Delegate.html" title="Delegates an action to a slot. ">Delegate</a> determines its signature, where the first parameter represents the return type:</p>
<div class="fragment"><div class="line"><a class="code" href="classPt_1_1Delegate.html">Pt::Delegate&lt;int&gt;</a> del0;           <span class="comment">// Delegate only returns int</span></div>
<div class="line"><a class="code" href="classPt_1_1Delegate.html">Pt::Delegate&lt;int, int&gt;</a> del1;      <span class="comment">// Delegate with one argument</span></div>
<div class="line"><a class="code" href="classPt_1_1Delegate.html">Pt::Delegate&lt;int, int, int&gt;</a> del2; <span class="comment">// Delegate with two arguments</span></div>
</div><!-- fragment --><p>The syntax for connecting delegates is identical to how signals are connected to slots. However, since a delegate forwards the return value of its slot, not only the arguments passed to the slot must be compatible, but also the return value. Furthermore, when an already connected delegate is connected again, the current connection will be closed and the delegate is connected to its new target.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> slotA()</div>
<div class="line">{ <span class="keywordflow">return</span> 5; }</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> slotB()</div>
<div class="line">{ <span class="keywordflow">return</span> 6; }</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classPt_1_1Delegate.html">Pt::Delegate&lt;int&gt;</a> delegate;</div>
<div class="line">    delegate += Pt::slot(slotA);</div>
<div class="line">    delegate += Pt::slot(slotB); <span class="comment">// disconnects from slotA</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The example above constructs a delegate which can be connected to any slot that returns an int. It is first connected to a slot of the function slotA. When it is connected for the second time to a slot of the function slotB, the old connection will be closed and only slotB is called when the delegate is called.</p>
<p>There are two possibilities how a delegate can call its slot. The member function <a class="el" href="classPt_1_1Delegate.html#a684e67ec222d30b4fbf06f3e2e3e37ce">call()</a> will return the return value of the slot. If the delegate is not connected to a slot, an exception is thrown. The second method is through <a class="el" href="classPt_1_1Delegate.html#a15fa9ecbf16e46966ced9b70f94b9a71">invoke()</a>, where the return value is ignored, but if the delegate is not connected, no exception will be thrown.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> slot()</div>
<div class="line">{ <span class="keywordflow">return</span> 5; }</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classPt_1_1Delegate.html">Pt::Delegate&lt;int&gt;</a> delegate;</div>
<div class="line">        <a class="code" href="classPt_1_1Connection.html">Pt::Connection</a> connection = delegate += Pt::slot(slot);</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">int</span> i = delegate.<a class="code" href="classPt_1_1Delegate.html#a684e67ec222d30b4fbf06f3e2e3e37ce">call</a>(); <span class="comment">// i is 5 now</span></div>
<div class="line"></div>
<div class="line">        connection.<a class="code" href="classPt_1_1Connection.html#a5ae591df94fc66ccb85cbb6565368bca">close</a>();</div>
<div class="line">        delegate.<a class="code" href="classPt_1_1Delegate.html#a15fa9ecbf16e46966ced9b70f94b9a71">invoke</a>() <span class="comment">// does not throw</span></div>
<div class="line">        delegate.<a class="code" href="classPt_1_1Delegate.html#a684e67ec222d30b4fbf06f3e2e3e37ce">call</a>();  <span class="comment">// will throw because not connected</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::logic_error&amp; ex)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;could not call delegate&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The program above connects a delegate to a slot and then calls it. After the connection was closed, the delegate is invoked, which has no effect. Finally, when the delegate is called again, an exception is thrown and catched. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a684e67ec222d30b4fbf06f3e2e3e37ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">R call </td>
          <td>(</td>
          <td class="paramtype">ARGUMENTS&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Passes on all arguments to the connected slot and returns the return value of that slot. If no slot is connect then an exception is thrown. </p>

</div>
</div>
<a class="anchor" id="a15fa9ecbf16e46966ced9b70f94b9a71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void invoke </td>
          <td>(</td>
          <td class="paramtype">ARGUMENTS&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Passes on all arguments to the connected slot and ignores the return value. If No slot is connected, the call is silently ignored. </p>

</div>
</div>
</div><!-- contents -->

<div class="clear">&nbsp;</div>
<div id="footer">
	<div style="float:left;">Copyright &copy; 2003-2014 The Pt Development Team</div>
</div>
</div>
</body>
</html>
