<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>EventLoop Class Reference</title>
  <meta content="Pt Reference Manual" name="description">
  <meta content="The Pt Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body style="margin:0px;">
<div id="container">
<div id="top"> <!-- do not remove this div, it is closed by doxygen! -->
<div id="header">
    <table id="logo">
        <tr>
            <td>
                <a href="../index.html"><img src="platinum-logo.gif" border="0"/></a>
            </td>
            <td>
                <h3>The Power in your Hands</h3>
            </td>
        </tr>
    </table>
    <div class="search">
        <form action="http://search.freefind.com/find.html" method="get" accept-charset="utf-8" target="_self">
          <p style="margin: 0; padding-top:2px; padding-bottom:2px;"><b>Search Site:</b></p>
          <p style="margin: 0; padding:0;">
            <input type="hidden" name="si" value="43943317">
            <input type="hidden" name="pid" value="r">
            <input type="hidden" name="n" value="0">
            <input type="hidden" name="_charset_" value="">
            <input type="hidden" name="bcd" value="&#247;">
            <input style="background-color: #FFFFFF;
                          border: 1px solid #ffffff;
                          font-size: 12px;
                          width: 160px"
                   type="text" name="query" value="Search...">
          </p>
        </form>
    </div>
	<div class="header-menu">
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../index.html">About</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../features-modules.html">Features</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../docs.html">Documentation</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../downloads.html">Download</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../community.html">Community</a> </div>
	</div>
  </div>
<div class="header-submenu" style="padding-left: 146px;">  
    <div class="header-submenu-term"><img src="sub_left.png" width="4" height="20" /></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="../docs.html">Main</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="classes.html">Classes</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="namespaces.html">Namespaces</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="modules.html">Modules</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-term"><img src="sub_right.png" width="4" height="20" /></div>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePt.html">Pt</a></li><li class="navelem"><a class="el" href="namespacePt_1_1System.html">System</a></li><li class="navelem"><a class="el" href="classPt_1_1System_1_1EventLoop.html">EventLoop</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">EventLoop Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="EventLoop_8h_source.html">Pt/System/EventLoop.h</a>&gt;</code></p>

<p>Thread-safe event loop supporting I/O multiplexing and Timers.  
 <a href="classPt_1_1System_1_1EventLoop.html#details">More...</a></p>

<p>Inherits <a class="el" href="classPt_1_1Connectable.html">Connectable</a>, and <a class="el" href="classPt_1_1System_1_1EventSink.html">EventSink</a>.</p>

<p>Inherited by <a class="el" href="classPt_1_1System_1_1MainLoop.html">MainLoop</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4da434c64918bd5fb4872e3d54fc623"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4da434c64918bd5fb4872e3d54fc623"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#ac4da434c64918bd5fb4872e3d54fc623">~EventLoop</a> ()</td></tr>
<tr class="memdesc:ac4da434c64918bd5fb4872e3d54fc623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:ac4da434c64918bd5fb4872e3d54fc623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c8ef93b92a3fb86475dca464fbacbc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40c8ef93b92a3fb86475dca464fbacbc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a40c8ef93b92a3fb86475dca464fbacbc">commitEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:a40c8ef93b92a3fb86475dca464fbacbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues an event and triggers event processing. <br/></td></tr>
<tr class="separator:a40c8ef93b92a3fb86475dca464fbacbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824db47f925f8e739fe313d20f4614e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a824db47f925f8e739fe313d20f4614e6"></a>
<a class="el" href="classPt_1_1Signal.html">Signal</a>&lt; const <a class="el" href="classPt_1_1Event.html">Event</a> &amp; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a824db47f925f8e739fe313d20f4614e6">eventReceived</a> ()</td></tr>
<tr class="memdesc:a824db47f925f8e739fe313d20f4614e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports all events. <br/></td></tr>
<tr class="separator:a824db47f925f8e739fe313d20f4614e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358d2e2397ca11ccd17553e3c40e7901"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a358d2e2397ca11ccd17553e3c40e7901"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> ()</td></tr>
<tr class="memdesc:a358d2e2397ca11ccd17553e3c40e7901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the loop. <br/></td></tr>
<tr class="separator:a358d2e2397ca11ccd17553e3c40e7901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b39b81e3436334064918c805e97c56"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1b39b81e3436334064918c805e97c56"></a>
<a class="el" href="classPt_1_1Signal.html">Signal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#af1b39b81e3436334064918c805e97c56">exited</a> ()</td></tr>
<tr class="memdesc:af1b39b81e3436334064918c805e97c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emited when the eventloop is exited. <br/></td></tr>
<tr class="separator:af1b39b81e3436334064918c805e97c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3302e0356744a0461035a9aafa45cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a6d3302e0356744a0461035a9aafa45cc">post</a> (<a class="el" href="classPt_1_1System_1_1Selectable.html">Selectable</a> &amp;s)</td></tr>
<tr class="memdesc:a6d3302e0356744a0461035a9aafa45cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the selectables run function in the loop thread.  <a href="#a6d3302e0356744a0461035a9aafa45cc">More...</a><br/></td></tr>
<tr class="separator:a6d3302e0356744a0461035a9aafa45cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5473b44af17c41807bd98b6d1da298b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5473b44af17c41807bd98b6d1da298b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#ad5473b44af17c41807bd98b6d1da298b">processEvents</a> ()</td></tr>
<tr class="memdesc:ad5473b44af17c41807bd98b6d1da298b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classPt_1_1System_1_1Process.html" title="Executes shell commands. ">Process</a> all queued events. <br/></td></tr>
<tr class="separator:ad5473b44af17c41807bd98b6d1da298b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8794d4e41fef851f88dd39f0dd39462a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8794d4e41fef851f88dd39f0dd39462a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a8794d4e41fef851f88dd39f0dd39462a">queueEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:a8794d4e41fef851f88dd39f0dd39462a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only queues an event. <br/></td></tr>
<tr class="separator:a8794d4e41fef851f88dd39f0dd39462a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a43e6d814de94978c515cb084873b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13a43e6d814de94978c515cb084873b1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a13a43e6d814de94978c515cb084873b1">run</a> ()</td></tr>
<tr class="memdesc:a13a43e6d814de94978c515cb084873b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the loop. <br/></td></tr>
<tr class="separator:a13a43e6d814de94978c515cb084873b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a390b373c288df5bb2d7821e7ffa9c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a9a390b373c288df5bb2d7821e7ffa9c2">wake</a> ()</td></tr>
<tr class="memdesc:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers event processing. <br/></td></tr>
<tr class="separator:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3e4f5541f86fb0d22621d7b7fb287be5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e4f5541f86fb0d22621d7b7fb287be5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a3e4f5541f86fb0d22621d7b7fb287be5">onCommitEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)=0</td></tr>
<tr class="memdesc:a3e4f5541f86fb0d22621d7b7fb287be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues an event and triggers event processing. <br/></td></tr>
<tr class="separator:a3e4f5541f86fb0d22621d7b7fb287be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3472245c529fa9abe8c063b27e1c803c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3472245c529fa9abe8c063b27e1c803c"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a3472245c529fa9abe8c063b27e1c803c">onQueueEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)=0</td></tr>
<tr class="memdesc:a3472245c529fa9abe8c063b27e1c803c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only queues an event. <br/></td></tr>
<tr class="separator:a3472245c529fa9abe8c063b27e1c803c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30c3ee8b164fdc3fe46e23229814dec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab30c3ee8b164fdc3fe46e23229814dec"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#ab30c3ee8b164fdc3fe46e23229814dec">onWake</a> ()=0</td></tr>
<tr class="memdesc:ab30c3ee8b164fdc3fe46e23229814dec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers event processing. <br/></td></tr>
<tr class="separator:ab30c3ee8b164fdc3fe46e23229814dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The EventLoop can be used as the central entity of a thread or process to dispatch application events and wait on multiple Selectables, IODevices or Timers for activity.</p>
<p>Events can be added to the internal event queue, even from other threads using the method <a class="el" href="classPt_1_1System_1_1EventSink.html#a40c8ef93b92a3fb86475dca464fbacbc" title="Queues an event and triggers event processing. ">commitEvent()</a> or <a class="el" href="classPt_1_1System_1_1EventSink.html#a8794d4e41fef851f88dd39f0dd39462a" title="Only queues an event. ">queueEvent()</a>. The first method will add the event to the internal queue and wake the event loop, the latter allows queing multiple events and it is up to the caller to wake the event loop by calling <a class="el" href="classPt_1_1System_1_1EventSink.html#a9a390b373c288df5bb2d7821e7ffa9c2" title="Triggers event processing. ">wake()</a> when all events are added. When the event loop processes its event, the signal eventReceived is send for each processed event. Events are processed in the order they were added.</p>
<p>To start the MainLoop the method <a class="el" href="classPt_1_1System_1_1EventLoop.html#a13a43e6d814de94978c515cb084873b1" title="Starts the loop. ">run()</a> must be executed. It blocks until the event loop is stopped. To stop the loop, <a class="el" href="classPt_1_1System_1_1EventLoop.html#a358d2e2397ca11ccd17553e3c40e7901" title="Stops the loop. ">exit()</a> can be called. The delivery of the events occurs inside the thread that started the execution of the event loop. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6d3302e0356744a0461035a9aafa45cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPt_1_1System_1_1Selectable.html">Selectable</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The event loop is woken up and the selectable's run function is called in the thread that called the event loop's run function. This function may be called from any thread, since it is meant to return to the event loop thread from a selectable, that is based on a parallel execution model e.g. using a worker thread. </p>

</div>
</div>
</div><!-- contents -->

<div class="clear">&nbsp;</div>
<div id="footer">
	<div style="float:left;">Copyright &copy; 2003-2014 The Pt Development Team</div>
</div>
</div>
</body>
</html>
