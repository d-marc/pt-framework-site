<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>InputSource Class Reference</title>
  <meta content="Pt Reference Manual" name="description">
  <meta content="The Pt Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body style="margin:0px;">
<div id="container">
<div id="top"> <!-- do not remove this div, it is closed by doxygen! -->
<div id="header">
    <table id="logo">
        <tr>
            <td>
                <a href="../index.html"><img src="platinum-logo.gif" border="0"/></a>
            </td>
            <td>
                <h3>The Power in your Hands</h3>
            </td>
        </tr>
    </table>
    <div class="search">
        <form action="http://search.freefind.com/find.html" method="get" accept-charset="utf-8" target="_self">
          <p style="margin: 0; padding-top:2px; padding-bottom:2px;"><b>Search Site:</b></p>
          <p style="margin: 0; padding:0;">
            <input type="hidden" name="si" value="43943317">
            <input type="hidden" name="pid" value="r">
            <input type="hidden" name="n" value="0">
            <input type="hidden" name="_charset_" value="">
            <input type="hidden" name="bcd" value="&#247;">
            <input style="background-color: #FFFFFF;
                          border: 1px solid #ffffff;
                          font-size: 12px;
                          width: 160px"
                   type="text" name="query" value="Search...">
          </p>
        </form>
    </div>
	<div class="header-menu">
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../index.html">About</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../features-modules.html">Features</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../docs.html">Documentation</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../downloads.html">Download</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../community.html">Community</a> </div>
	</div>
  </div>
<div class="header-submenu" style="padding-left: 146px;">  
    <div class="header-submenu-term"><img src="sub_left.png" width="4" height="20" /></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="../docs.html">Main</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="classes.html">Classes</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="namespaces.html">Namespaces</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="modules.html">Modules</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-term"><img src="sub_right.png" width="4" height="20" /></div>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePt.html">Pt</a></li><li class="navelem"><a class="el" href="namespacePt_1_1Xml.html">Xml</a></li><li class="navelem"><a class="el" href="classPt_1_1Xml_1_1InputSource.html">InputSource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">InputSource Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="InputSource_8h_source.html">Pt/Xml/InputSource.h</a>&gt;</code></p>

<p>Input source for the XML reader.  
 <a href="classPt_1_1Xml_1_1InputSource.html#details">More...</a></p>

<p>Inherits <a class="el" href="classPt_1_1NonCopyable.html">NonCopyable</a>.</p>

<p>Inherited by <a class="el" href="classPt_1_1Xml_1_1BinaryInputSource.html">BinaryInputSource</a>, NullInputSource, and <a class="el" href="classPt_1_1Xml_1_1TextInputSource.html">TextInputSource</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ca82192c00a4a0dbe80a8756f84f265"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ca82192c00a4a0dbe80a8756f84f265"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a9ca82192c00a4a0dbe80a8756f84f265">InputSource</a> ()</td></tr>
<tr class="memdesc:a9ca82192c00a4a0dbe80a8756f84f265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an empty InputSource. <br/></td></tr>
<tr class="separator:a9ca82192c00a4a0dbe80a8756f84f265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996114f91b46ad5f5b876457e4820ef2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a996114f91b46ad5f5b876457e4820ef2"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a996114f91b46ad5f5b876457e4820ef2">~InputSource</a> ()</td></tr>
<tr class="memdesc:a996114f91b46ad5f5b876457e4820ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a996114f91b46ad5f5b876457e4820ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae502a9e7b14e479621dc5237a41741f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae502a9e7b14e479621dc5237a41741f1"></a>
const <a class="el" href="classPt_1_1Xml_1_1XmlDeclaration.html">XmlDeclaration</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#ae502a9e7b14e479621dc5237a41741f1">declaration</a> () const </td></tr>
<tr class="memdesc:ae502a9e7b14e479621dc5237a41741f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the XML declaration or a nullptr if none was read. <br/></td></tr>
<tr class="separator:ae502a9e7b14e479621dc5237a41741f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa764c25c2472e65b959a7a801014fa1f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa764c25c2472e65b959a7a801014fa1f"></a>
int_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#aa764c25c2472e65b959a7a801014fa1f">get</a> ()</td></tr>
<tr class="memdesc:aa764c25c2472e65b959a7a801014fa1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next character or EOF. <br/></td></tr>
<tr class="separator:aa764c25c2472e65b959a7a801014fa1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844d8a932bcbdd8d5aa29a845df271c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a844d8a932bcbdd8d5aa29a845df271c9"></a>
const <a class="el" href="classPt_1_1String.html">Pt::String</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a844d8a932bcbdd8d5aa29a845df271c9">id</a> () const </td></tr>
<tr class="memdesc:a844d8a932bcbdd8d5aa29a845df271c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the input stream. <br/></td></tr>
<tr class="separator:a844d8a932bcbdd8d5aa29a845df271c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ecca8ac94885a46365b4db295e7801"><td class="memItemLeft" align="right" valign="top">std::streamsize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a74ecca8ac94885a46365b4db295e7801">import</a> ()</td></tr>
<tr class="memdesc:a74ecca8ac94885a46365b4db295e7801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import available bytes into buffer.  <a href="#a74ecca8ac94885a46365b4db295e7801">More...</a><br/></td></tr>
<tr class="separator:a74ecca8ac94885a46365b4db295e7801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c88f148e0e66773da48a0ddeb2372da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c88f148e0e66773da48a0ddeb2372da"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a0c88f148e0e66773da48a0ddeb2372da">line</a> () const </td></tr>
<tr class="memdesc:a0c88f148e0e66773da48a0ddeb2372da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current line count. <br/></td></tr>
<tr class="separator:a0c88f148e0e66773da48a0ddeb2372da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80acc23c17300c4dd58864ef699cf7e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80acc23c17300c4dd58864ef699cf7e3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a80acc23c17300c4dd58864ef699cf7e3">setLine</a> (std::size_t n)</td></tr>
<tr class="memdesc:a80acc23c17300c4dd58864ef699cf7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current line count. <br/></td></tr>
<tr class="separator:a80acc23c17300c4dd58864ef699cf7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aecb28b0bd76e1c217b51f9c6b9335bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#aecb28b0bd76e1c217b51f9c6b9335bda">init</a> (std::basic_streambuf&lt; <a class="el" href="classPt_1_1Char.html">Char</a> &gt; *rdbuf=0, <a class="el" href="classPt_1_1Xml_1_1XmlDeclaration.html">XmlDeclaration</a> *decl=0)</td></tr>
<tr class="memdesc:aecb28b0bd76e1c217b51f9c6b9335bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize to use an input buffer and XML declaration.  <a href="#aecb28b0bd76e1c217b51f9c6b9335bda">More...</a><br/></td></tr>
<tr class="separator:aecb28b0bd76e1c217b51f9c6b9335bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8020759574855f2e03afc5a1bbb8121e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8020759574855f2e03afc5a1bbb8121e"></a>
virtual int_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#a8020759574855f2e03afc5a1bbb8121e">onGet</a> ()=0</td></tr>
<tr class="memdesc:a8020759574855f2e03afc5a1bbb8121e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next character or EOF. <br/></td></tr>
<tr class="separator:a8020759574855f2e03afc5a1bbb8121e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb2d49f4be2c4034c8c7940dd156d28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdb2d49f4be2c4034c8c7940dd156d28"></a>
virtual const <a class="el" href="classPt_1_1String.html">Pt::String</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#acdb2d49f4be2c4034c8c7940dd156d28">onId</a> () const =0</td></tr>
<tr class="memdesc:acdb2d49f4be2c4034c8c7940dd156d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the input stream. <br/></td></tr>
<tr class="separator:acdb2d49f4be2c4034c8c7940dd156d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af578d6ceb0f236f7f012b145ad08c765"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af578d6ceb0f236f7f012b145ad08c765"></a>
virtual std::streamsize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1Xml_1_1InputSource.html#af578d6ceb0f236f7f012b145ad08c765">onImport</a> ()=0</td></tr>
<tr class="memdesc:af578d6ceb0f236f7f012b145ad08c765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refills the stream buffer. <br/></td></tr>
<tr class="separator:af578d6ceb0f236f7f012b145ad08c765"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The InputSource allows the XML readers to read input as an unicode character stream. It converts the encoding, if required, and supports blocking and non-blocking operation. Line information and the XML or text declaration are provided by each input source. Input sources are not only used for the main document, but also for entites and external DTD subsets. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a74ecca8ac94885a46365b4db295e7801"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::streamsize import </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If no more characters can be read directly from the input stream buffer without blocking read operations, the virtual method onInput() is called. The number of available characters is returned, which can be 0 if no data is available. </p>

</div>
</div>
<a class="anchor" id="aecb28b0bd76e1c217b51f9c6b9335bda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramtype">std::basic_streambuf&lt; <a class="el" href="classPt_1_1Char.html">Char</a> &gt; *&#160;</td>
          <td class="paramname"><em>rdbuf</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPt_1_1Xml_1_1XmlDeclaration.html">XmlDeclaration</a> *&#160;</td>
          <td class="paramname"><em>decl</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The derived input sources must call this method once the XML or text declaration is parsed or if none was found. Normally, this is done in the virtual methods <a class="el" href="classPt_1_1Xml_1_1InputSource.html#a8020759574855f2e03afc5a1bbb8121e" title="Returns the next character or EOF. ">onGet()</a> and <a class="el" href="classPt_1_1Xml_1_1InputSource.html#af578d6ceb0f236f7f012b145ad08c765" title="Refills the stream buffer. ">onImport()</a>, which are called by the public interface methods <a class="el" href="classPt_1_1Xml_1_1InputSource.html#aa764c25c2472e65b959a7a801014fa1f" title="Returns the next character or EOF. ">get()</a> and <a class="el" href="classPt_1_1Xml_1_1InputSource.html#a74ecca8ac94885a46365b4db295e7801" title="Import available bytes into buffer. ">import()</a> when no buffer was set yet. The passed buffer and declaration are owned by the derived class. </p>

</div>
</div>
</div><!-- contents -->

<div class="clear">&nbsp;</div>
<div id="footer">
	<div style="float:left;">Copyright &copy; 2003-2014 The Pt Development Team</div>
</div>
</div>
</body>
</html>
