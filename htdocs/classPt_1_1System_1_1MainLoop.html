<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>MainLoop Class Reference</title>
  <meta content="Pt Reference Manual" name="description">
  <meta content="The Pt Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body style="margin:0px;">
<div id="container">
<div id="top"> <!-- do not remove this div, it is closed by doxygen! -->
<div id="header">
    <table id="logo">
        <tr>
            <td>
                <a href="../index.html"><img src="platinum-logo.gif" border="0"/></a>
            </td>
            <td>
                <h3>The Power in your Hands</h3>
            </td>
        </tr>
    </table>
    <div class="search">
        <form action="http://search.freefind.com/find.html" method="get" accept-charset="utf-8" target="_self">
          <p style="margin: 0; padding-top:2px; padding-bottom:2px;"><b>Search Site:</b></p>
          <p style="margin: 0; padding:0;">
            <input type="hidden" name="si" value="43943317">
            <input type="hidden" name="pid" value="r">
            <input type="hidden" name="n" value="0">
            <input type="hidden" name="_charset_" value="">
            <input type="hidden" name="bcd" value="&#247;">
            <input style="background-color: #FFFFFF;
                          border: 1px solid #ffffff;
                          font-size: 12px;
                          width: 160px"
                   type="text" name="query" value="Search...">
          </p>
        </form>
    </div>
	<div class="header-menu">
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../index.html">About</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../features-modules.html">Features</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../docs.html">Documentation</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../downloads.html">Download</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../community.html">Community</a> </div>
	</div>
  </div>
<div class="header-submenu" style="padding-left: 146px;">  
    <div class="header-submenu-term"><img src="sub_left.png" width="4" height="20" /></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="../docs.html">Main</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="classes.html">Classes</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="namespaces.html">Namespaces</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="modules.html">Modules</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-term"><img src="sub_right.png" width="4" height="20" /></div>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePt.html">Pt</a></li><li class="navelem"><a class="el" href="namespacePt_1_1System.html">System</a></li><li class="navelem"><a class="el" href="classPt_1_1System_1_1MainLoop.html">MainLoop</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">MainLoop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MainLoop_8h_source.html">Pt/System/MainLoop.h</a>&gt;</code></p>

<p>Thread-safe event loop supporting I/O multiplexing and Timers.  
 <a href="classPt_1_1System_1_1MainLoop.html#details">More...</a></p>

<p>Inherits <a class="el" href="classPt_1_1System_1_1EventLoop.html">EventLoop</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a889336ba4bb2ad7683bda3349b7cbc6e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a889336ba4bb2ad7683bda3349b7cbc6e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#a889336ba4bb2ad7683bda3349b7cbc6e">MainLoop</a> ()</td></tr>
<tr class="memdesc:a889336ba4bb2ad7683bda3349b7cbc6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor. <br/></td></tr>
<tr class="separator:a889336ba4bb2ad7683bda3349b7cbc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec679de866c7c1d5995ae5fbb2074900"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec679de866c7c1d5995ae5fbb2074900"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#aec679de866c7c1d5995ae5fbb2074900">MainLoop</a> (<a class="el" href="classPt_1_1Allocator.html">Allocator</a> &amp;a)</td></tr>
<tr class="memdesc:aec679de866c7c1d5995ae5fbb2074900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with allocator. <br/></td></tr>
<tr class="separator:aec679de866c7c1d5995ae5fbb2074900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b971292d89d3590893cccb02789a7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22b971292d89d3590893cccb02789a7d"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#a22b971292d89d3590893cccb02789a7d">~MainLoop</a> ()</td></tr>
<tr class="memdesc:a22b971292d89d3590893cccb02789a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a22b971292d89d3590893cccb02789a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c8ef93b92a3fb86475dca464fbacbc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40c8ef93b92a3fb86475dca464fbacbc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a40c8ef93b92a3fb86475dca464fbacbc">commitEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:a40c8ef93b92a3fb86475dca464fbacbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues an event and triggers event processing. <br/></td></tr>
<tr class="separator:a40c8ef93b92a3fb86475dca464fbacbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824db47f925f8e739fe313d20f4614e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a824db47f925f8e739fe313d20f4614e6"></a>
<a class="el" href="classPt_1_1Signal.html">Signal</a>&lt; const <a class="el" href="classPt_1_1Event.html">Event</a> &amp; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a824db47f925f8e739fe313d20f4614e6">eventReceived</a> ()</td></tr>
<tr class="memdesc:a824db47f925f8e739fe313d20f4614e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports all events. <br/></td></tr>
<tr class="separator:a824db47f925f8e739fe313d20f4614e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358d2e2397ca11ccd17553e3c40e7901"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a358d2e2397ca11ccd17553e3c40e7901"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> ()</td></tr>
<tr class="memdesc:a358d2e2397ca11ccd17553e3c40e7901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the loop. <br/></td></tr>
<tr class="separator:a358d2e2397ca11ccd17553e3c40e7901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b39b81e3436334064918c805e97c56"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1b39b81e3436334064918c805e97c56"></a>
<a class="el" href="classPt_1_1Signal.html">Signal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#af1b39b81e3436334064918c805e97c56">exited</a> ()</td></tr>
<tr class="memdesc:af1b39b81e3436334064918c805e97c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emited when the eventloop is exited. <br/></td></tr>
<tr class="separator:af1b39b81e3436334064918c805e97c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3302e0356744a0461035a9aafa45cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a6d3302e0356744a0461035a9aafa45cc">post</a> (<a class="el" href="classPt_1_1System_1_1Selectable.html">Selectable</a> &amp;s)</td></tr>
<tr class="memdesc:a6d3302e0356744a0461035a9aafa45cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the selectables run function in the loop thread.  <a href="#a6d3302e0356744a0461035a9aafa45cc">More...</a><br/></td></tr>
<tr class="separator:a6d3302e0356744a0461035a9aafa45cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5473b44af17c41807bd98b6d1da298b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5473b44af17c41807bd98b6d1da298b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#ad5473b44af17c41807bd98b6d1da298b">processEvents</a> ()</td></tr>
<tr class="memdesc:ad5473b44af17c41807bd98b6d1da298b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classPt_1_1System_1_1Process.html" title="Executes shell commands. ">Process</a> all queued events. <br/></td></tr>
<tr class="separator:ad5473b44af17c41807bd98b6d1da298b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8794d4e41fef851f88dd39f0dd39462a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8794d4e41fef851f88dd39f0dd39462a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a8794d4e41fef851f88dd39f0dd39462a">queueEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:a8794d4e41fef851f88dd39f0dd39462a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only queues an event. <br/></td></tr>
<tr class="separator:a8794d4e41fef851f88dd39f0dd39462a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a43e6d814de94978c515cb084873b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13a43e6d814de94978c515cb084873b1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventLoop.html#a13a43e6d814de94978c515cb084873b1">run</a> ()</td></tr>
<tr class="memdesc:a13a43e6d814de94978c515cb084873b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the loop. <br/></td></tr>
<tr class="separator:a13a43e6d814de94978c515cb084873b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a390b373c288df5bb2d7821e7ffa9c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1EventSink.html#a9a390b373c288df5bb2d7821e7ffa9c2">wake</a> ()</td></tr>
<tr class="memdesc:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers event processing. <br/></td></tr>
<tr class="separator:a9a390b373c288df5bb2d7821e7ffa9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac9bef7d0e9cdc8cd2d1158396bfcdf74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9bef7d0e9cdc8cd2d1158396bfcdf74"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#ac9bef7d0e9cdc8cd2d1158396bfcdf74">onCommitEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:ac9bef7d0e9cdc8cd2d1158396bfcdf74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues an event and triggers event processing. <br/></td></tr>
<tr class="separator:ac9bef7d0e9cdc8cd2d1158396bfcdf74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3d53cac5d5ab0b6c4faebba5dc168a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace3d53cac5d5ab0b6c4faebba5dc168a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#ace3d53cac5d5ab0b6c4faebba5dc168a">onQueueEvent</a> (const <a class="el" href="classPt_1_1Event.html">Event</a> &amp;ev)</td></tr>
<tr class="memdesc:ace3d53cac5d5ab0b6c4faebba5dc168a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only queues an event. <br/></td></tr>
<tr class="separator:ace3d53cac5d5ab0b6c4faebba5dc168a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90cea37236bf0e95e93e568898bf6fc9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90cea37236bf0e95e93e568898bf6fc9"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1System_1_1MainLoop.html#a90cea37236bf0e95e93e568898bf6fc9">onWake</a> ()</td></tr>
<tr class="memdesc:a90cea37236bf0e95e93e568898bf6fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers event processing. <br/></td></tr>
<tr class="separator:a90cea37236bf0e95e93e568898bf6fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The following example uses a MainLoop to wait on acitvity on a <a class="el" href="classPt_1_1System_1_1Timer.html" title="Notifies clients in constant intervals. ">Timer</a>, which is set to time-out after 1000 msecs.</p>
<div class="fragment"><div class="line"><span class="comment">// slot to handle timer activity</span></div>
<div class="line"><span class="keywordtype">void</span> onTimer();</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using</span> Pt::System;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classPt_1_1System_1_1MainLoop.html#a889336ba4bb2ad7683bda3349b7cbc6e">MainLoop</a> loop;</div>
<div class="line"></div>
<div class="line">    Timer timer;</div>
<div class="line">    timer.<a class="code" href="classPt_1_1System_1_1Timer.html#a1d0ec20a053d1eb6d987d1741e31e7b6">setActive</a>(loop);</div>
<div class="line">    timer.start(1000);</div>
<div class="line">    timer.timeout() += Pt::slot(onTimer);</div>
<div class="line"></div>
<div class="line">    loop.run();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6d3302e0356744a0461035a9aafa45cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPt_1_1System_1_1Selectable.html">Selectable</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The event loop is woken up and the selectable's run function is called in the thread that called the event loop's run function. This function may be called from any thread, since it is meant to return to the event loop thread from a selectable, that is based on a parallel execution model e.g. using a worker thread. </p>

</div>
</div>
</div><!-- contents -->

<div class="clear">&nbsp;</div>
<div id="footer">
	<div style="float:left;">Copyright &copy; 2003-2014 The Pt Development Team</div>
</div>
</div>
</body>
</html>
