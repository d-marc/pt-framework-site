<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>TextCodec&lt; CharT, ByteT &gt; Class Template Reference</title>
  <meta content="Pt Reference Manual" name="description">
  <meta content="The Pt Development Team" name="author">
  <link rel="stylesheet" href="doxygen.css" type="text/css">
</head>
<body style="margin:0px;">
<div id="container">
<div id="top"> <!-- do not remove this div, it is closed by doxygen! -->
<div id="header">
    <table id="logo">
        <tr>
            <td>
                <a href="../index.html"><img src="platinum-logo.gif" border="0"/></a>
            </td>
            <td>
                <h3>The Power in your Hands</h3>
            </td>
        </tr>
    </table>
    <div class="search">
        <form action="http://search.freefind.com/find.html" method="get" accept-charset="utf-8" target="_self">
          <p style="margin: 0; padding-top:2px; padding-bottom:2px;"><b>Search Site:</b></p>
          <p style="margin: 0; padding:0;">
            <input type="hidden" name="si" value="43943317">
            <input type="hidden" name="pid" value="r">
            <input type="hidden" name="n" value="0">
            <input type="hidden" name="_charset_" value="">
            <input type="hidden" name="bcd" value="&#247;">
            <input style="background-color: #FFFFFF;
                          border: 1px solid #ffffff;
                          font-size: 12px;
                          width: 160px"
                   type="text" name="query" value="Search...">
          </p>
        </form>
    </div>
	<div class="header-menu">
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../index.html">About</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../features-modules.html">Features</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../docs.html">Documentation</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../downloads.html">Download</a> </div>
		<div class="header-menu-entry-sep"></div>
		<div class="header-menu-entry"> 
            <a id="header-menu-link" href="../community.html">Community</a> </div>
	</div>
  </div>
<div class="header-submenu" style="padding-left: 146px;">  
    <div class="header-submenu-term"><img src="sub_left.png" width="4" height="20" /></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="../docs.html">Main</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="classes.html">Classes</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="namespaces.html">Namespaces</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-entry">
        <a id="header-submenu-link" href="modules.html">Modules</a></div>
	<div class="header-submenu-entry-sep"></div>
    <div class="header-submenu-term"><img src="sub_right.png" width="4" height="20" /></div>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePt.html">Pt</a></li><li class="navelem"><a class="el" href="classPt_1_1TextCodec.html">TextCodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">TextCodec&lt; CharT, ByteT &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__Unicode.html">Text Processing</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="include_2Pt_2TextCodec_8h_source.html">Pt/TextCodec.h</a>&gt;</code></p>

<p>Converts between character encodings.  
 <a href="classPt_1_1TextCodec.html#details">More...</a></p>

<p>Inherits codecvt&lt; T, B, Pt::MBState &gt;.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af66f1f8195767008a253d19c087c15f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af66f1f8195767008a253d19c087c15f8"></a>
typedef ByteT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#af66f1f8195767008a253d19c087c15f8">extern_type</a></td></tr>
<tr class="memdesc:af66f1f8195767008a253d19c087c15f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">External character type. <br/></td></tr>
<tr class="separator:af66f1f8195767008a253d19c087c15f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c1baecb8416953874c2f18b9162390c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c1baecb8416953874c2f18b9162390c"></a>
typedef CharT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a4c1baecb8416953874c2f18b9162390c">intern_type</a></td></tr>
<tr class="memdesc:a4c1baecb8416953874c2f18b9162390c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal character type. <br/></td></tr>
<tr class="separator:a4c1baecb8416953874c2f18b9162390c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083372346fb609e5576effbdb3640604"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a083372346fb609e5576effbdb3640604"></a>
typedef MBState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a083372346fb609e5576effbdb3640604">state_type</a></td></tr>
<tr class="memdesc:a083372346fb609e5576effbdb3640604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion state type. <br/></td></tr>
<tr class="separator:a083372346fb609e5576effbdb3640604"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71f5d3595fc7bd33f4465cae6400855a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a71f5d3595fc7bd33f4465cae6400855a">TextCodec</a> (std::size_t ref=0)</td></tr>
<tr class="memdesc:a71f5d3595fc7bd33f4465cae6400855a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs with reference count.  <a href="#a71f5d3595fc7bd33f4465cae6400855a">More...</a><br/></td></tr>
<tr class="separator:a71f5d3595fc7bd33f4465cae6400855a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4ae2584a64317e5efa3ba0bb96bd7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf4ae2584a64317e5efa3ba0bb96bd7e"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#acf4ae2584a64317e5efa3ba0bb96bd7e">~TextCodec</a> ()</td></tr>
<tr class="memdesc:acf4ae2584a64317e5efa3ba0bb96bd7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desctructor. <br/></td></tr>
<tr class="separator:acf4ae2584a64317e5efa3ba0bb96bd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e5125e87f26cdd9d6e53b80931a893"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25e5125e87f26cdd9d6e53b80931a893"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a25e5125e87f26cdd9d6e53b80931a893">always_noconv</a> () const </td></tr>
<tr class="memdesc:a25e5125e87f26cdd9d6e53b80931a893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if no conversion is required. <br/></td></tr>
<tr class="separator:a25e5125e87f26cdd9d6e53b80931a893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72d5d7954af6c7dcb5111a364bae9cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af72d5d7954af6c7dcb5111a364bae9cd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#af72d5d7954af6c7dcb5111a364bae9cd">encoding</a> () const </td></tr>
<tr class="memdesc:af72d5d7954af6c7dcb5111a364bae9cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the encoding rate. <br/></td></tr>
<tr class="separator:af72d5d7954af6c7dcb5111a364bae9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac069ad4515510f9bf47e3a8bc418d7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac069ad4515510f9bf47e3a8bc418d7d"></a>
result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#aac069ad4515510f9bf47e3a8bc418d7d">in</a> (MBState &amp;s, const ByteT *fbeg, const ByteT *fend, const ByteT *&amp;fnext, CharT *tbeg, CharT *tend, CharT *&amp;tnext) const </td></tr>
<tr class="memdesc:aac069ad4515510f9bf47e3a8bc418d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes a character sequence. <br/></td></tr>
<tr class="separator:aac069ad4515510f9bf47e3a8bc418d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344fcf7a12d2a7a038fce1c9a666de4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a344fcf7a12d2a7a038fce1c9a666de4c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a344fcf7a12d2a7a038fce1c9a666de4c">length</a> (MBState &amp;state, const ByteT *from, const ByteT *end, std::size_t max) const </td></tr>
<tr class="memdesc:a344fcf7a12d2a7a038fce1c9a666de4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the decoded characters. <br/></td></tr>
<tr class="separator:a344fcf7a12d2a7a038fce1c9a666de4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3cc97f6c712f040926e4c2d86dcb7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f3cc97f6c712f040926e4c2d86dcb7e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#a0f3cc97f6c712f040926e4c2d86dcb7e">max_length</a> () const </td></tr>
<tr class="memdesc:a0f3cc97f6c712f040926e4c2d86dcb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of an external sequence if one character is encoded. <br/></td></tr>
<tr class="separator:a0f3cc97f6c712f040926e4c2d86dcb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af859386cbf4744d6a3fb24a6392815d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af859386cbf4744d6a3fb24a6392815d8"></a>
result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#af859386cbf4744d6a3fb24a6392815d8">out</a> (MBState &amp;state, const CharT *fbeg, const CharT *fend, const CharT *&amp;fnext, ByteT *tbeg, ByteT *tend, ByteT *&amp;tnext) const </td></tr>
<tr class="memdesc:af859386cbf4744d6a3fb24a6392815d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a character sequence. <br/></td></tr>
<tr class="separator:af859386cbf4744d6a3fb24a6392815d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07059ed2d1b1d5c24516724ca0c74ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae07059ed2d1b1d5c24516724ca0c74ca"></a>
result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPt_1_1TextCodec.html#ae07059ed2d1b1d5c24516724ca0c74ca">unshift</a> (MBState &amp;state, ByteT *to, ByteT *to_end, ByteT *&amp;to_next) const </td></tr>
<tr class="memdesc:ae07059ed2d1b1d5c24516724ca0c74ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unshifts a character sequence. <br/></td></tr>
<tr class="separator:ae07059ed2d1b1d5c24516724ca0c74ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename CharT, typename ByteT&gt;<br/>
class Pt::TextCodec&lt; CharT, ByteT &gt;</h3>

<p>A <a class="el" href="classPt_1_1TextCodec.html" title="Converts between character encodings. ">Pt::TextCodec</a> is used by text converters to encode and decode external byte sequences, hence the name codec. It implements the std::codecvt facet interface, on systems provide the std::locale facilities. Codecs are stateless, which means that one codec can be used with multiple text converters. A TextCodec is constructed with a reference counter that indicates whether the converter or locale manages the lifetime of the codec. If that value is 0, as it is the case if the TextCodec is default constructed, the text converter or locale will delete the codec.</p>
<div class="fragment"><div class="line"><a class="code" href="classPt_1_1TextOStream.html">Pt::TextOStream</a> tos(<span class="keyword">new</span> <a class="code" href="classPt_1_1Utf8Codec.html">Pt::Utf8Codec</a>);</div>
</div><!-- fragment --><p>Therefore, a default constructed TextCodec has to be cretaed with new, as it is the rule for all localization facets. This can be avoided by passing a value different from 0 to the codecs constructor, in which case the codec must exist at least as long as the stream that uses it:</p>
<div class="fragment"><div class="line"><a class="code" href="classPt_1_1Utf8Codec.html">Pt::Utf8Codec</a> codec(1);</div>
<div class="line"><a class="code" href="classPt_1_1TextOStream.html">Pt::TextOStream</a> tos(codec);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a71f5d3595fc7bd33f4465cae6400855a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPt_1_1TextCodec.html">TextCodec</a> </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>ref</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <em>ref</em> is 0 the stream, stream buffer or locale deletes the facet. </p>

</div>
</div>
</div><!-- contents -->

<div class="clear">&nbsp;</div>
<div id="footer">
	<div style="float:left;">Copyright &copy; 2003-2014 The Pt Development Team</div>
</div>
</div>
</body>
</html>
